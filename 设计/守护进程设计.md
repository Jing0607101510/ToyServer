# 守护进程设计

- 是否以守护进程方式运行，与程序参数-b有关，如果以守护进程方式运行，那么日志只写到日志文件中。如果不是以守护进程方式运行，则写到日志文件+终端上（都是由Logger负责输出到终端）。
- 创建守护进程模型
  1. 创建子进程，退出父进程
  2. 在子进程中创建新的会话
  3. 改变当前目录位置
  4. 重设文件权限掩码
  5. 关闭文件描述符
  6. 开始执行守护进程核心工作